第一章 操作系统引论
操作系统的定义
答：一组能有效地组织和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合。

操作系统的分类（类型）
批处理系统：缺点 缺乏交互性
分时系统：人机交互、及时性
实时系统：实时性

操作系统的特性
并发性（最基本） 是指两个或多个事件在同一时间间隔内发生
共享性 是指系统中的资源可供内存中多个并发执行的进程共同使用 互斥的共享方式和同时访问方式
虚拟性 通过某种技术奖一个物理实体变为若干个逻辑上的对应物的功能
异步性 各个进程以不可预知的速度执行

操作系统的主要功能
1.处理机管理功能
2.存储器管理功能
3.设备管理功能
4.文件管理功能
5.与用户之间的接口

第二章 进程的描述与控制
进程的引入：为了描述程序在计算机内的执行情况

进程的三个基本状态以及转换
就绪态
执行态
阻塞态

进程同步
互斥：临界区需要互斥的访问
同步：为完成同一任务相互合作

信号量机制
整型信号量
记录型信号量：
	互斥信号量初值为1
	同步信号量初值为0
	资源个数初值为n
AND型信号量
信号量集

经典同步问题
生产者--消费者问题
哲学家进餐问题
读者--写者问题

练习
1.一台打印机，两个进程访问
2.两个进程，儿子进程专吃苹果，女儿进程专吃橛子，现有等数量的苹果和橘子混在一起
3.一个笼子，猎人往篓子放老虎，农民放猪，动物园买老虎，饭店买猪，如何协调

pv总结
信号量的确定以及初值
用pv操作组织并发代码

A:互斥：临界资源访问前后一对PV操作 P56
B:前驱关系（合作关系）P57
	每个关系用一个信号量，初值0，
	PV操作的位置：在不同的进程中成对出现
C:互斥和同步相结合


第三章 处理机的调度和死锁
处理机调度的层次
	高级调度 作业调度
	中级调度 
	低级调度 进程调度 所有操作系统都必须要有

调度算法
FCFS 先来先服务（作业调度、进程调度、磁盘调度等等）
SJF（SPF） 短作业（进程）优先
优先级调度算法
	静态优先级
	动态优先级（高响应比优先调度P90） 优先权=（等待时间+要求服务时间）/要求服务时间
时间片轮转
多级反馈队列
实时调度算法

死锁
什么是死锁
死锁产生的原因
	竞争不可抢占性资源引起死锁
	竞争可消耗性资源引起死锁
	进程间推进顺序非法
死锁产生的必要条件
1.互斥条件
2.请求和保持条件
3.不可抢占条件
4.循环等待条件

死锁的处理方法
预防（破坏死锁的3个必要条件，除互斥外）
避免（银行家算法：目的：避免死锁，工作过程、安全性的判断P110）
检测（资源分配图的简化）
解除（终止进程等等）


第四章 存储器管理
（本章特指内存，而外存管理在第八章）
多道作业装入内存，逻辑地址与实际的内存物理地址不同（重定位）

内存管理方式
	连续分配和离散分配
连续分配
	单一连续分配
	固定分区分配
	动态分区分配（最佳适应、首次适应等等）
	动态可重定位分区分配
离散分配
	（基本）分页存储管理方式
		可能产生内部碎片（最后一页很难完全占满）
		页表定义、作用
		逻辑地址向物理地址的转换（结合第五章缺页的话页面置换）
	（基本）分段存储管理方式
		与分页存储管理方式的区别和联系
分段以段为单位，各段可以离散存放，但是每一段要连续，分页是以页为单位
		段表的作用：
		逻辑地址向物理地址的转换
		
第五章 虚拟存储器
定义P155
是指具有请求调入功能和置换功能，能从逻辑上对内存容量加以扩充的一种存储器系统
 请求调入 置换功能 从逻辑上扩充内存

虚拟存储器的特点（其离散分配为基础）
1.多次性
2.对换性
3.虚拟性

虚拟存储器的实现方法
1.请求分页存储管理方式
2.请求分段存储管理方式

请求页面存储管理方式
 页面置换算法
1.最佳置换算法
2.先进先出算法FIFO
3.最近最久未使用LRU
4.最近未使用clock
 
 系统抖动原因：置换算法选择不当

 物理块块数增加，缺页中断率不一定变

 请求分段存储管理方式定义P173
 页号 块号  物理地址对应的是块号加块内偏移

第六章 输入输出系统
I/O系统定义：(ppt)
 包括实现信息输入、输出和存储功能的设备和设备控制器
 大中型计算机系统中，除了设备和设备控制器之外还有I/O通道
 （通道是硬件 将控制通道的程序放在主存）

I/O按设备的使用特性分类
 输入设备
 输出设备
 存储设备

通道实现CPU与外设之间的控制，实现内存与外设之间的数据传输

I/O控制方法分4种
1.使用轮询的可编程I/O方式
2.使用中断的可编程I/O方式
3.直接存储器访问方式DMA
4.I/O通道控制方式----CPU干预最少的方式

设备分配的过程（P203页约定）
 分配设备
 分配设备控制器
 分配通道

假脱机技术（SPOOLING）
 定义：P205
 四大组成部分
  输入井和输出井
  输入缓冲区和输出缓冲区
  输入进程和输出进程
  井管理程序
 缓冲区管理
  缓冲的引入是为了解决速度差问题

磁盘调度算法，根据磁道访问序列 计算平均寻道长度 并评价算法
算法：
 先来先服务FCFS
 最短寻道时间优先SSTF
 扫描算法SCAN（电梯算法）
 循环扫描算法CSCAN

第七章 文件管理
文件的逻辑结构
 有结构文件（记录式文件）
 无结构文件（流式文件）
文件的外存分配方式
 连续分配
 链接分配
 索引分配
目录管理的要求
 实现按名存取--最基本功能，也是引用文件系统的主要目的
 提高对目录的检索速度
 文件共享
 允许文件重名

文件目录的类型
 单级目录（不允许两个文件重名）
 两级目录
 多级目录（树形目录）


第八章 磁盘存储器的管理
外存的组织方式
 连续组织方式
 链接组织方式
 索引组织方式

存储空间管理方法
 空闲表法和空闲链表法
 位示图法
 成组链接法

第九章 操作系统接口
